# ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Contact ‡πÅ‡∏•‡∏∞ Settings ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà**: 2025-11-17
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞**: ‚úÖ Code ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á - ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Runtime

---

## ‚úÖ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Code

### **‡∏´‡∏ô‡πâ‡∏≤ Contact (Friends Page)**

**Route**: `/contacts` ‚Üí `FriendsPage.tsx`

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞**:
- ‚úÖ `src/pages/standard/friend/FriendsPage.tsx` ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
- ‚úÖ Components ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô:
  - `FriendHeader.tsx`
  - `FriendTabs.tsx`
  - `FriendsList.tsx`
  - `AddFriendModal.tsx`
  - `CreateGroupModal.tsx`
  - `FriendItem.tsx`
  - `GroupItem.tsx`
  - `PendingRequestItem.tsx`
  - `BlockedUserItem.tsx`
  - `EmptyState.tsx`
- ‚úÖ Hook: `useFriendsPageLogic` ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
- ‚úÖ TypeScript: ‡πÑ‡∏°‡πà‡∏°‡∏µ error

---

### **‡∏´‡∏ô‡πâ‡∏≤ Settings**

**Route**: `/settings` ‚Üí `SettingsPage.tsx`

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞**:
- ‚úÖ `src/pages/standard/setting/SettingsPage.tsx` ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
- ‚úÖ Components ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô:
  - `ProfileForm.tsx`
  - `PasswordForm.tsx`
- ‚úÖ Hooks ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô:
  - `useProfile.ts` (‡πÉ‡∏ä‡πâ useUser, useAuth)
  - `usePassword.ts` (‡πÉ‡∏ä‡πâ useAuth, userService)
  - `useUser.ts`
- ‚úÖ Dependencies:
  - react-hook-form ‚úÖ
  - @hookform/resolvers ‚úÖ
  - zod ‚úÖ
- ‚úÖ TypeScript: ‡πÑ‡∏°‡πà‡∏°‡∏µ error

---

## üîç ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡πà‡∏≠

### 1. ‡πÄ‡∏õ‡∏¥‡∏î Browser ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Console

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô**:
1. ‡πÄ‡∏õ‡∏¥‡∏î `http://localhost:5173` (‡∏´‡∏£‡∏∑‡∏≠ port ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
2. ‡∏Å‡∏î `F12` ‡πÄ‡∏õ‡∏¥‡∏î Developer Tools
3. ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ó‡πá‡∏ö **Console**
4. ‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ:
   - `/contacts`
   - `/settings`

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**:
- ‚ùå ‡∏°‡∏µ error ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- ‚ùå ‡∏°‡∏µ warning ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- ‚ùå ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö:
  - "Cannot read property" ‡∏´‡∏£‡∏∑‡∏≠ "undefined"
  - "Failed to fetch" ‡∏´‡∏£‡∏∑‡∏≠ "Network error"
  - "Module not found"

**‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ error**:
‚Üí Copy error message ‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤

---

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô**:
1. ‡πÄ‡∏Ç‡πâ‡∏≤ `/contacts`
2. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏´‡πá‡∏ô:
   - ‚ùì ‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ (blank page)?
   - ‚ùì Loading spinner ‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà?
   - ‚ùì ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î..." ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢?

**‡∏ñ‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á**:
‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network tab ‡∏ß‡πà‡∏≤‡∏°‡∏µ API request ‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

**‡∏ñ‡πâ‡∏≤ Loading ‡∏Ñ‡πâ‡∏≤‡∏á**:
‚Üí ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤ API ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö

---

### 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network Requests

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô**:
1. ‡∏Å‡∏î `F12` ‚Üí ‡πÅ‡∏ó‡πá‡∏ö **Network**
2. Refresh ‡∏´‡∏ô‡πâ‡∏≤ (`Ctrl+R`)
3. ‡∏î‡∏π requests ‡∏ó‡∏µ‡πà‡∏°‡∏µ status ‡∏™‡∏µ‡πÅ‡∏î‡∏á (Failed)

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**:
- ‚ùå ‡∏°‡∏µ request ‡πÑ‡∏´‡∏ô status **4xx** (Client Error)?
- ‚ùå ‡∏°‡∏µ request ‡πÑ‡∏´‡∏ô status **5xx** (Server Error)?
- ‚ùå ‡∏°‡∏µ request ‡πÑ‡∏´‡∏ô **timeout** ‡∏´‡∏£‡∏∑‡∏≠ **failed**?

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á requests ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ**:
- `GET /api/users/me` ‚Üí ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- `GET /api/friendships` ‚Üí ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Contact page)
- `GET /api/friendships/pending` ‚Üí ‡∏î‡∏∂‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô

---

### 4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Authentication

**‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤**:
- ‡∏´‡∏ô‡πâ‡∏≤ Settings ‡πÅ‡∏•‡∏∞ Contacts ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ **authentication**
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ login ‡∏´‡∏£‡∏∑‡∏≠ token ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‚Üí redirect ‡πÑ‡∏õ `/auth/login`

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**:
1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ login ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
2. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ token ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

```javascript
// ‡πÄ‡∏õ‡∏¥‡∏î Console ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ô
console.log('isAuthenticated:', localStorage.getItem('isAuthenticated'));
console.log('accessToken:', localStorage.getItem('accessToken'));
```

**‡∏ñ‡πâ‡∏≤ token ‡πÑ‡∏°‡πà‡∏°‡∏µ ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏**:
‚Üí Login ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

---

### 5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ChatLayout

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ**:
- ‡∏´‡∏ô‡πâ‡∏≤ `/contacts` ‡πÅ‡∏•‡∏∞ `/settings` ‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ `<ChatLayout>`
- ‡∏ñ‡πâ‡∏≤ `ChatLayout` ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‚Üí ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö**:
```javascript
// ‡∏î‡∏π‡∏ß‡πà‡∏≤ ChatLayout render ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
// ‡πÉ‡∏ô Console
console.log(document.querySelector('[data-layout="chat"]'));
```

**‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ**:
‚Üí ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà `ChatLayout.tsx`

---

## üõ†Ô∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: ‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ (Blank Page)

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- Component crash ‡∏ï‡∏≠‡∏ô render
- Missing data ‡∏à‡∏≤‡∏Å API

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡πÄ‡∏ä‡πá‡∏Ñ Console error
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° error boundary

```typescript
// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô FriendsPage.tsx ‡πÅ‡∏•‡∏∞ SettingsPage.tsx
try {
  // ‡πÉ‡∏™‡πà code ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à error
} catch (error) {
  console.error('Error rendering page:', error);
  return <div>‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: {error.message}</div>;
}
```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: Loading ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- API ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
- Request timeout
- Backend ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Backend server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. ‡πÄ‡∏ä‡πá‡∏Ñ Network tab ‡∏ß‡πà‡∏≤ request ‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
3. ‡∏ï‡∏±‡πâ‡∏á timeout ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö request

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- API ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤
- Mapping data ‡∏ú‡∏¥‡∏î

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```typescript
// ‡πÄ‡∏û‡∏¥‡πà‡∏° debug log
useEffect(() => {
  console.log('Friends data:', friends);
  console.log('Settings data:', currentUser);
}, [friends, currentUser]);
```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 4: "Cannot read property of undefined"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**:
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÅ‡∏ï‡πà‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏° access property

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```typescript
// ‡πÉ‡∏ä‡πâ optional chaining ‡πÅ‡∏•‡∏∞ nullish coalescing
<div>{user?.display_name ?? 'Loading...'}</div>

// ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô render
if (!user) return <Loading />;
return <div>{user.display_name}</div>;
```

---

## üìã Checklist ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

- [ ] Browser Console ‡πÑ‡∏°‡πà‡∏°‡∏µ error ‡∏™‡∏µ‡πÅ‡∏î‡∏á
- [ ] Network requests ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î status 200
- [ ] Authentication token ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- [ ] Backend server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
- [ ] ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• user ‡∏ñ‡∏π‡∏Å‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢
- [ ] ChatLayout render ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (‡πÑ‡∏°‡πà blank)

---

## üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

**‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ï‡∏≤‡∏° checklist ‡πÅ‡∏•‡πâ‡∏ß**:

1. ‡∏ñ‡πâ‡∏≤‡∏û‡∏ö error ‚Üí Copy error message ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
2. ‡∏ñ‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á ‚Üí ‡∏™‡πà‡∏á screenshot ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏°‡∏≤
3. ‡∏ñ‡πâ‡∏≤ API fail ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ Backend logs

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£**:
- Browser Console errors (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
- Network tab screenshot (‡∏ñ‡πâ‡∏≤ request fail)
- Dev server logs (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ warning)

---

**‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠:** 2025-11-17
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞**: ‚è≥ **‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Runtime**
